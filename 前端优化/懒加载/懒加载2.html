<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <style>
    .lazyLoad {
	    display: block;
	    margin-bottom: 50px;
	    height: 200px;
      /* 一定设置图片高度 */
	}
  </style>
 
<body>
    <div>
      <img class="lazyLoad" src="dlrb.jpg" data-src="./dlrb.jpg" >
      <img class="lazyLoad" src="dlrb.jpg" data-src="./lyf.jpg" >
      <img class="lazyLoad" src="dlrb.jpg" data-src="./lyf.jpg" >
      <img class="lazyLoad" src="dlrb.jpg" data-src="./lyf.jpg" >
      <img class="lazyLoad" src="dlrb.jpg" data-src="./lyf.jpg" >
      <img class="lazyLoad" src="dlrb.jpg" data-src="./lyf.jpg" >
      <img class="lazyLoad" src="dlrb.jpg" data-src="./lyf.jpg" >
      <img class="lazyLoad" src="dlrb.jpg" data-src="./lyf.jpg" >
      <img class="lazyLoad" src="dlrb.jpg" data-src="./lyf.jpg" >
      <img class="lazyLoad" src="dlrb.jpg" data-src="./lyf.jpg" >
      <img class="lazyLoad" src="dlrb.jpg" data-src="./lyf.jpg" >
    </div>
    <script>
      // IntersectionObserver接口 (从属于Intersection Observer API) 
      //提供了一种异步观察目标元素与其祖先元素或顶级文档视窗(viewport)交叉状态的方法。
      //祖先元素与视窗(viewport)被称为根(root)。
      var images = document.querySelectorAll('.lazyLoad')
      var IntersectionObserver = new IntersectionObserver((ertries) => {
        ertries.forEach(entry => {
          // 当元素进入可视区内
          if (entry.isIntersecting) {
            let src = entry.target.getAttribute('data-src')
            if ('img' === entry.target.tagName.toLowerCase()) {
              if (src) {
                entry.target.src = src
              }
            }
          }
        })
      })
      Array.from(images).forEach(image => {
        IntersectionObserver.observe(image)
      })
    </script>

</body>
</html>